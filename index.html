<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JUMP to ENG</title>
  <style>
    :root {
      --bg-gradient: linear-gradient(135deg, #1a1a1a 0%, #2c2c2c 100%);
      --card-bg: #1e1e1e;
      --primary-color: #00d4ff;
      --secondary-color: #00ffcc;
      --accent-color: #003366;
      --text-light: #f0f0f0;
      --text-muted: #cccccc;
      --border-radius: 1rem;
      --transition: all 0.3s ease;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg-gradient);
      color: var(--text-light);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    .container, .final-screen {
      background: var(--card-bg);
      padding: 2rem;
      border-radius: var(--border-radius);
      box-shadow: 0 10px 30px rgba(0, 100, 255, 0.2);
      max-width: 1000px;
      width: 100%;
      text-align: center;
      position: relative;
      z-index: 1;
      animation: fadeInUp 0.8s ease-out;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 100, 255, 0.2);
    }
    .hidden {
      display: none;
    }
    h1 {
      color: var(--primary-color);
      margin-bottom: 1rem;
      font-size: 1.8rem;
    }
    #phrase-image {
      width: 250px;
      height: 250px;
      object-fit: cover;
      border-radius: 50%;
      border: 2px solid var(--primary-color);
      box-shadow: 0 0 15px rgba(0, 100, 255, 0.5);
      margin: 0 auto 1rem auto;
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    #phrase-image:hover {
      transform: scale(1.05);
    }
    #phrase, #transcription, #translation {
      margin-bottom: 0.3rem;
    }
    #phrase {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-light);
    }
    #transcription {
      font-size: 1rem;
      color: var(--text-muted);
      font-style: italic;
    }
    #translation {
      font-size: 1.1rem;
      color: #e0e0e0;
      font-weight: 500;
    }
    .buttons, .mode-buttons {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin: 1rem 0;
    }
    button {
      flex: 1;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-weight: 600;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0, 100, 255, 0.2);
      background: linear-gradient(135deg, var(--accent-color), #001a33);
      color: var(--primary-color);
      transition: var(--transition);
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 100, 255, 0.4);
    }
    #next-phrase-btn {
      background: linear-gradient(135deg, #003333, #001a1a);
      color: var(--secondary-color);
    }
    #user-answer {
      width: 95%;
      padding: 0.6rem;
      margin: 1rem auto;
      font-size: 1rem;
      border-radius: 0.5rem;
      border: none;
      outline: none;
      background: #2c2c2c;
      color: #fff;
      box-shadow: 0 0 5px rgba(0, 212, 255, 0.3);
      transition: border-color 0.3s ease;
    }
    #user-answer:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 8px rgba(0, 212, 255, 0.5);
    }
    .score {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: var(--primary-color);
    }
    .final-screen h2 {
      color: var(--secondary-color);
      margin-bottom: 1.5rem;
    }
    .final-score {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    @keyframes fadeInUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .mode-buttons button {
      flex: 1;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-weight: 600;
      border: 2px dashed var(--primary-color);
      background: transparent;
      color: var(--primary-color);
      border-radius: var(--border-radius);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: var(--transition);
    }
    .mode-buttons button::after {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: var(--primary-color);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .mode-buttons button.active::after {
      opacity: 0.1;
    }
    .word-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin: 1rem 0;
      justify-content: center;
      max-width: 100%;
      overflow-x: auto;
      padding: 0.5rem;
    }
    .word {
      padding: 0.5rem 1rem;
      background: #333;
      border-radius: 10px;
      cursor: grab;
      transition: transform 0.2s;
      user-select: none;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0, 212, 255, 0.3);
    }
    .word.adjective {
      color: #00d4ff;
      border: 2px solid #00d4ff;
    }
    .word.noun {
      color: #00ffcc;
      border: 2px solid #00ffcc;
    }
    .word.dragging {
      transform: scale(1.1);
    }
    .drop-zone {
      min-height: 80px;
      border: 2px dashed var(--primary-color);
      border-radius: var(--border-radius);
      padding: 1rem;
      margin: 1rem 0;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      align-items: center;
      justify-content: center;
      background: #1a1a1a;
    }
    .phrase-builder {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    .animated-phrase {
      position: absolute;
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--secondary-color);
      opacity: 0;
      transform: scale(0.5);
      z-index: 10;
      pointer-events: none;
      animation: combine 1s ease-in-out;
    }
    @keyframes combine {
      0% {
        opacity: 0;
        transform: scale(0.5) translateY(0);
      }
      50% {
        opacity: 1;
        transform: scale(1.2) translateY(-30px);
      }
      100% {
        transform: scale(1) translateY(0);
      }
    }
  </style>
</head>
<body>
  <div class="container" id="main-container">
    <!-- –§—Ä–∞–∑–∞ -->
    <img id="phrase-image" src="" alt="–§—Ä–∞–∑–∞">
    <p id="phrase">üíã</p>
    <p id="transcription"></p>
    <p id="translation"></p>
    <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∞ -->
    <input type="text" id="user-answer" class="hidden" placeholder="–ü–µ—Ä–µ–≤–æ–¥" />
    <!-- –†–µ–∂–∏–º—ã -->
    <div class="mode-buttons">
      <button onclick="switchMode('learn')">üéì –û–±—É—á–µ–Ω–∏–µ</button>
      <button onclick="switchMode('test')">üìù –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</button>
      <button onclick="switchMode('builder')">üß© –°–±–æ—Ä–∫–∞</button>
    </div>
    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="buttons">
      <button id="prev-phrase-btn" onclick="showPreviousPhrase()">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
      <button id="next-phrase-btn" onclick="nextAction()">–í–ø–µ—Ä–µ–¥ ‚û°Ô∏è</button>
    </div>
    <!-- –°—á–µ—Ç -->
    <div class="score">
      <p id="score-info">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö: 0 –∏–∑ 0</p>
    </div>
    <!-- –ó–æ–Ω–∞ —Å–±–æ—Ä–∫–∏ -->
    <div id="phrase-builder-container" class="hidden">
      <div class="drop-zone" id="drop-zone"></div>
    </div>
    <!-- –ö–Ω–æ–ø–∫–∏ —Å–ª–æ–≤ -->
    <div class="word-container" id="word-container"></div>
  </div>
  <!-- –ò—Ç–æ–≥–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
  <div class="final-screen hidden" id="final-screen">
    <h2>–ü—Ä–æ–π–¥–µ–Ω–æ</h2>
    <p class="final-score" id="final-score-text">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö: 0 –∏–∑ 0</p>
    <button onclick="restartTest()">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
  </div>
  <script>
    const phrases = [
      { english: "hot coffee", transcription: "[h…ít Ààk…îÀêfi]", translation: "–≥–æ—Ä—è—á–∏–π –∫–æ—Ñ–µ", imageSrc: "hot coffee.jpg" },
      { english: "cold coffee", transcription: "[k…ô äld Ààk…îÀêfi]", translation: "—Ö–æ–ª–æ–¥–Ω—ã–π –∫–æ—Ñ–µ", imageSrc: "cold coffee.jpg" },
      { english: "hot tea", transcription: "[h…ít tiÀê]", translation: "–≥–æ—Ä—è—á–∏–π —á–∞–π", imageSrc: "hot tea.jpg" },
      { english: "cold tea", transcription: "[k…ô äld tiÀê]", translation: "—Ö–æ–ª–æ–¥–Ω—ã–π —á–∞–π", imageSrc: "cold tea.jpg" },
      { english: "hot sand", transcription: "[h…ít s√¶nd]", translation: "–≥–∞—Ä—è—á–∏–π –ø–µ—Å–æ–∫", imageSrc: "hot sand.jpg" },
      { english: "black skirt", transcription: "[bl√¶k sk…úÀêrt]", translation: "—á—ë—Ä–Ω–∞—è —é–±–∫–∞", imageSrc: "black skirt.jpg" },
      { english: "white skirt", transcription: "[wa…™t sk…úÀêrt]", translation: "–±–µ–ª–∞—è —é–±–∫–∞", imageSrc: "white skirt.jpg" },
      { english: "black rabbit", transcription: "[bl√¶k Ààr√¶b…™t]", translation: "—á—ë—Ä–Ω—ã–π –∫—Ä–æ–ª–∏–∫", imageSrc: "black rabbit.jpg" },
      { english: "white rabbit", transcription: "[wa…™t Ààr√¶b…™t]", translation: "–±–µ–ª—ã–π –∫—Ä–æ–ª–∏–∫", imageSrc: "white rabbit.jpg" },
      { english: "black chair", transcription: "[bl√¶k t Ée…ôr]", translation: "—á—ë—Ä–Ω—ã–π —Å—Ç—É–ª", imageSrc: "black chair.jpg" },
      { english: "white chair", transcription: "[wa…™t t Ée…ôr]", translation: "–±–µ–ª—ã–π —Å—Ç—É–ª", imageSrc: "white chair.jpg" },
      { english: "cold sand", transcription: "[k…ô äld s√¶nd]", translation: "—Ö–æ–ª–æ–¥–Ω—ã–π –ø–µ—Å–æ–∫", imageSrc: "cold sand.jpg" },
      { english: "old car", transcription: "[…ô äld k…ëÀêr]", translation: "—Å—Ç–∞—Ä–∞—è –º–∞—à–∏–Ω–∞", imageSrc: "old car.jpg" },
      { english: "new car", transcription: "[njuÀê k…ëÀêr]", translation: "–Ω–æ–≤–∞—è –º–∞—à–∏–Ω–∞", imageSrc: "new car.jpg" },
      { english: "old house", transcription: "[…ô äld ha äs]", translation: "—Å—Ç–∞—Ä—ã–π –¥–æ–º", imageSrc: "old house.jpg" },
      { english: "new house", transcription: "[njuÀê ha äs]", translation: "–Ω–æ–≤—ã–π –¥–æ–º", imageSrc: "new house.jpg" },
      { english: "old photo", transcription: "[…ô äld Ààf…ô ät…ô ä]", translation: "—Å—Ç–∞—Ä–æ–µ —Ñ–æ—Ç–æ", imageSrc: "old photo.jpg" },
      { english: "new photo", transcription: "[njuÀê Ààf…ô ät…ô ä]", translation: "–Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ", imageSrc: "new photo.jpg" },
      { english: "dark room", transcription: "[d…ëÀêrk rum]", translation: "—Ç—ë–º–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞", imageSrc: "dark room.jpg" },
      { english: "light room", transcription: "[la…™t rum]", translation: "—Å–≤–µ—Ç–ª–∞—è –∫–æ–º–Ω–∞—Ç–∞", imageSrc: "light room.jpg" },
      { english: "dark hair", transcription: "[d…ëÀêrk he…ô]", translation: "—Ç—ë–º–Ω—ã–µ –≤–æ–ª–æ—Å—ã", imageSrc: "dark hair.jpg" },
      { english: "light hair", transcription: "[la…™t he…ô]", translation: "—Å–≤–µ—Ç–ª—ã–µ –≤–æ–ª–æ—Å—ã", imageSrc: "light hair.jpg" },
      { english: "dark smoke", transcription: "[d…ëÀêrk sm…ô äk]", translation: "—Ç—ë–º–Ω—ã–π –¥—ã–º", imageSrc: "dark smoke.jpg" },
      { english: "light smoke", transcription: "[la…™t sm…ô äk]", translation: "—Å–≤–µ—Ç–ª—ã–π –¥—ã–º", imageSrc: "light smoke.jpg" },
      { english: "big shop", transcription: "[b…™…°  É…íp]", translation: "–±–æ–ª—å—à–æ–π –º–∞–≥–∞–∑–∏–Ω", imageSrc: "big shop.jpg" },
      { english: "small shop", transcription: "[sm…îÀêl  É…íp]", translation: "–º–∞–ª–µ–Ω—å–∫–∏–π –º–∞–≥–∞–∑–∏–Ω", imageSrc: "small shop.jpg" },
      { english: "big fish", transcription: "[b…™…° f…™ É]", translation: "–±–æ–ª—å—à–∞—è —Ä—ã–±–∞", imageSrc: "big fish.jpg" },
      { english: "small fish", transcription: "[sm…îÀêl f…™ É]", translation: "–º–∞–ª–µ–Ω—å–∫–∞—è —Ä—ã–±–∞", imageSrc: "small fish.jpg" },
      { english: "big house", transcription: "[b…™…° ha äs]", translation: "–±–æ–ª—å—à–æ–π –¥–æ–º", imageSrc: "big house.jpg" },
      { english: "small house", transcription: "[sm…îÀêl ha äs]", translation: "–º–∞–ª–µ–Ω—å–∫–∏–π –¥–æ–º", imageSrc: "small house.jpg" },
      { english: "happy boy", transcription: "[Ààh√¶pi b…î…™]", translation: "—Å—á–∞—Å—Ç–ª–∏–≤—ã–π –º–∞–ª—å—á–∏–∫", imageSrc: "happy boy.jpg" },
      { english: "sad boy", transcription: "[s√¶d b…î…™]", translation: "–≥—Ä—É—Å—Ç–Ω—ã–π –º–∞–ª—å—á–∏–∫", imageSrc: "sad boy.jpg" },
      { english: "happy girl", transcription: "[Ààh√¶pi …°…úÀêl]", translation: "—Å—á–∞—Å—Ç–ª–∏–≤–∞—è –¥–µ–≤–æ—á–∫–∞", imageSrc: "happy girl.jpg" },
      { english: "sad girl", transcription: "[s√¶d …°…úÀêl]", translation: "–≥—Ä—É—Å—Ç–Ω–∞—è –¥–µ–≤–æ—á–∫–∞", imageSrc: "sad girl.jpg" },
      { english: "happy face", transcription: "[Ààh√¶pi fe…™s]", translation: "—Å—á–∞—Å—Ç–ª–∏–≤–æ–µ –ª–∏—Ü–æ", imageSrc: "happy face.jpg" },
      { english: "sad face", transcription: "[s√¶d fe…™s]", translation: "–≥—Ä—É—Å—Ç–Ω–æ–µ –ª–∏—Ü–æ", imageSrc: "sad face.jpg" }
    ];
    
    let currentPhraseIndex = 0;
    let correctCount = 0;
    let currentMode = 'learn';
    let answeredPhrases = [];
    const totalPhrases = phrases.length;
    const correctSound = new Audio('2right.mp3');
    const wrongSound = new Audio('wrong.mp3');
    
    // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ
 // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ
const adjectives = [...new Set(phrases.map(p => p.english.split(' ')[0]))];
const nouns = [...new Set(phrases.map(p => p.english.split(' ')[1]))];
    let currentAdjective = '';
    let currentNoun = '';
    let draggedWord = null;
    let wordContainer;
    
    document.addEventListener('DOMContentLoaded', () => {
      wordContainer = document.getElementById('word-container');
      document.getElementById('next-phrase-btn').addEventListener('click', nextAction);
      document.getElementById('user-answer').addEventListener('keypress', handleEnter);
    });
    
    function handleEnter(e) {
      if (e.key === 'Enter') checkAnswer();
    }
    
    function switchMode(mode) {
      currentMode = mode;
      const imageElement = document.getElementById('phrase-image');
      const userAnswerInput = document.getElementById('user-answer');
      const phraseBuilder = document.getElementById('phrase-builder-container');
      
      if (mode === 'test') {
        imageElement.removeEventListener('click', speakPhrase);
        userAnswerInput.classList.remove('hidden');
        phraseBuilder.classList.add('hidden');
        userAnswerInput.focus();
      } else if (mode === 'builder') {
        imageElement.removeEventListener('click', speakPhrase);
        userAnswerInput.classList.add('hidden');
        phraseBuilder.classList.remove('hidden');
        generateRandomPhrase();
        renderWords();
      } else {
        imageElement.addEventListener('click', speakPhrase);
        userAnswerInput.classList.add('hidden');
        phraseBuilder.classList.add('hidden');
      }
      
      document.getElementById('phrase').classList.toggle('hidden', mode === 'test' || mode === 'builder');
      document.getElementById('transcription').classList.toggle('hidden', mode === 'test' || mode === 'builder');
      document.getElementById('translation').classList.remove('hidden');
      
      const nextBtn = document.getElementById('next-phrase-btn');
      nextBtn.textContent = mode === 'test' ? '‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å' : 
                         mode === 'builder' ? '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å' : '‚û°Ô∏è –í–ø–µ—Ä–µ–¥';
      
      nextBtn.onclick = mode === 'test' ? checkAnswer : 
                        mode === 'builder' ? checkPhrase : nextAction;
      
      document.querySelectorAll('.mode-buttons button').forEach(btn => btn.classList.remove('active'));
      event.currentTarget.classList.add('active');
    }
    
    function showNextPhrase() {
      currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
      if (currentPhraseIndex === 0 && currentMode === 'test') {
        showFinalScreen();
        return;
      }
      displayPhrase(phrases[currentPhraseIndex]);
      updateScoreDisplay();
    }
    
    function showPreviousPhrase() {
      currentPhraseIndex = (currentPhraseIndex - 1 + phrases.length) % phrases.length;
      displayPhrase(phrases[currentPhraseIndex]);
    }
    
    function displayPhrase(phrase) {
      document.getElementById('phrase').textContent = phrase.english;
      document.getElementById('transcription').textContent = phrase.transcription;
      document.getElementById('translation').textContent = phrase.translation;
      document.getElementById('phrase-image').src = phrase.imageSrc || "";
    }
    
    function unlockAudio() {
      if (typeof unlockAudio.done === 'undefined') {
        [correctSound, wrongSound].forEach(audio => {
          if ('play' in audio) {
            audio.volume = 0;
            const playPromise = audio.play();
            if (playPromise !== undefined) {
              playPromise
                .then(() => {
                  audio.pause();
                  audio.volume = 1;
                })
                .catch(() => {});
            }
          }
        });
        unlockAudio.done = true;
      }
    }
    
    document.addEventListener('click', unlockAudio, { once: true });
    
    function updateScoreDisplay() {
      const totalTested = answeredPhrases.length;
      document.getElementById('score-info').textContent = 
        `–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö: ${correctCount} –∏–∑ ${totalTested}`;
    }
    
    function speakPhrase() {
      if ('speechSynthesis' in window) {
        window.speechSynthesis.cancel();
        const speech = new SpeechSynthesisUtterance();
        speech.text = phrases[currentPhraseIndex].english;
        speech.lang = 'en-US';
        speech.rate = 1;
        window.speechSynthesis.speak(speech);
      }
    }
    
    function checkAnswer() {
      const input = document.getElementById('user-answer');
      const userAnswer = input.value.trim().toLowerCase();
      const correctAnswer = phrases[currentPhraseIndex].english.toLowerCase();
      
      if (userAnswer === '') {
        alert('–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç!');
        return;
      }
      
      if (!answeredPhrases.includes(phrases[currentPhraseIndex])) {
        answeredPhrases.push(phrases[currentPhraseIndex]);
      }
      
      if (userAnswer === correctAnswer) {
        correctCount++;
        playSound(correctSound);
        setTimeout(() => {
          input.value = '';
          showNextPhrase();
        }, 1000);
      } else {
        playSound(wrongSound);
        alert(`‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correctAnswer}`);
        input.value = '';
      }
      updateScoreDisplay();
    }
    
    function playSound(audio) {
      if (!audio) return;
      audio.currentTime = 0;
      const playPromise = audio.play();
      if (playPromise !== undefined) {
        playPromise.catch(error => {
          console.error("–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞:", error);
        });
      }
    }
    
    function showFinalScreen() {
      document.getElementById('main-container').classList.add('hidden');
      document.getElementById('final-screen').classList.remove('hidden');
      const totalTested = answeredPhrases.length;
      document.getElementById('final-score-text').textContent = 
        `–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö: ${correctCount} –∏–∑ ${totalTested}`;
    }
    
    function restartTest() {
      correctCount = 0;
      currentPhraseIndex = 0;
      answeredPhrases = [];
      updateScoreDisplay();
      displayPhrase(phrases[0]);
      document.getElementById('final-screen').classList.add('hidden');
      document.getElementById('main-container').classList.remove('hidden');
      switchMode('test');
    }
    
    // –°–±–æ—Ä–∫–∞ —Ñ—Ä–∞–∑
    function generateRandomPhrase() {
      const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];
      document.getElementById('phrase').textContent = randomPhrase.english;
      document.getElementById('transcription').textContent = randomPhrase.transcription;
      document.getElementById('translation').textContent = randomPhrase.translation;
      document.getElementById('phrase-image').src = randomPhrase.imageSrc || "";
      
      [currentAdjective, currentNoun] = randomPhrase.english.split(' ');
    }
    
    function renderWords() {
      const container = document.getElementById('word-container');
      container.innerHTML = '';
      
      [...adjectives, ...nouns].forEach(word => {
        const el = document.createElement('div');
        el.className = 'word';
        el.textContent = word;
        el.draggable = true;
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —Å–ª–æ–≤–∞ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å
        if (adjectives.includes(word)) {
          el.classList.add('adjective');
        } else {
          el.classList.add('noun');
        }
        
        el.addEventListener('dragstart', handleDragStart);
        el.addEventListener('click', () => returnWord(el));
        container.appendChild(el);
      });
    }
    
    function returnWord(wordElement) {
      const wordText = wordElement.textContent;
      wordElement.remove();
      
      const newWord = document.createElement('div');
      newWord.className = 'word';
      newWord.textContent = wordText;
      
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ç–∏–ª—å
      if (adjectives.includes(wordText)) {
        newWord.classList.add('adjective');
      } else {
        newWord.classList.add('noun');
      }
      
      newWord.draggable = true;
      newWord.addEventListener('dragstart', handleDragStart);
      newWord.addEventListener('click', () => returnWord(newWord));
      
      document.getElementById('word-container').appendChild(newWord);
    }
    
    function handleDragStart(e) {
      draggedWord = e.target;
      e.dataTransfer.setData('text/plain', e.target.textContent);
      e.target.classList.add('dragging');
    }
    
    document.getElementById('drop-zone').addEventListener('dragover', e => {
      e.preventDefault();
      e.dataTransfer.dropEffect = 'move';
    });
    
    document.getElementById('drop-zone').addEventListener('drop', e => {
      e.preventDefault();
      if (!draggedWord) return;
      
      const dropZone = document.getElementById('drop-zone');
      if (dropZone.children.length >= 2) {
        alert('–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ —Å–ª–æ–≤–∞!');
        return;
      }
      
      const word = e.dataTransfer.getData('text');
      const el = createWordElement(word);
      dropZone.appendChild(el);
      draggedWord.remove();
      draggedWord = null;
    });
    
    function createWordElement(text) {
      const el = document.createElement('div');
      el.className = 'word';
      el.textContent = text;
      
      if (adjectives.includes(text)) {
        el.classList.add('adjective');
      } else {
        el.classList.add('noun');
      }
      
      el.addEventListener('click', () => returnWord(el));
      el.draggable = true;
      el.addEventListener('dragstart', handleDragStart);
      return el;
    }
    
    function checkPhrase() {
      const dropZone = document.getElementById('drop-zone');
      const words = Array.from(dropZone.children).map(w => w.textContent);
      
      if (words.length !== 2) {
        alert('–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ –∏ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ!');
        return;
      }
      
      const phrase = words.join(' ').toLowerCase();
      const correctPhrase = phrases.find(p => p.english.toLowerCase() === phrase);
      
      if (correctPhrase) {
        if (!answeredPhrases.includes(correctPhrase)) {
          answeredPhrases.push(correctPhrase);
          correctCount++;
        }
        playSound(correctSound);
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–ª–æ–≤
        const animatedPhrase = document.createElement('div');
        animatedPhrase.className = 'animated-phrase';
        animatedPhrase.textContent = phrase;
        document.getElementById('phrase-image').parentNode.insertBefore(animatedPhrase, document.getElementById('phrase-image'));
        
        // –£–¥–∞–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–∞–¥–∞–Ω–∏—é —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => {
          animatedPhrase.remove();
          clearDropZone();
          generateRandomPhrase();
          renderWords();
        }, 1500);
      } else {
        playSound(wrongSound);
        alert(`‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.`);
        clearDropZone();
      }
      
      updateScoreDisplay();
    }
    
    function clearDropZone() {
      document.getElementById('drop-zone').innerHTML = '';
    }
    
    function nextAction() {
      if (currentMode === 'test') {
        checkAnswer();
      } else if (currentMode === 'builder') {
        checkPhrase();
      } else {
        showNextPhrase();
      }
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.getElementById('phrase-image').addEventListener('click', speakPhrase);
    document.getElementById('user-answer').addEventListener('keypress', handleEnter);
    document.querySelectorAll('.mode-buttons button')[0].classList.add('active');
    displayPhrase(phrases[currentPhraseIndex]);
    updateScoreDisplay();
  </script>
</body>
</html>
